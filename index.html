<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à AEO/SEO ‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Sarabun:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --primary: #0071e3;
            --primary-hover: #0077ED;
            --primary-light: rgba(0, 113, 227, 0.08);
            --success: #34d399;
            --success-bg: rgba(52, 211, 153, 0.1);
            --warning: #fbbf24;
            --warning-bg: rgba(251, 191, 36, 0.08);
            --danger: #f87171;
            --danger-bg: rgba(248, 113, 113, 0.08);
            --bg: #f5f5f7;
            --card-bg: #ffffff;
            --text-primary: #1d1d1f;
            --text-secondary: #6e6e73;
            --text-tertiary: #86868b;
            --border: rgba(0, 0, 0, 0.04);
            --code-bg: #f5f5f7;
            --shadow-sm: 0 2px 12px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 24px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 8px 40px rgba(0, 0, 0, 0.08);
            --radius-sm: 12px;
            --radius-md: 16px;
            --radius-lg: 20px;
            --radius-xl: 24px;
            --radius-pill: 980px;
            --transition: 0.3s cubic-bezier(0.25, 0.1, 0.25, 1);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', 'Sarabun', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background-color: var(--bg);
            color: var(--text-primary);
            line-height: 1.65;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 3rem 1.5rem;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            width: 100%;
            max-width: 920px;
        }

        /* ===== Header ===== */
        header {
            text-align: center;
            margin-bottom: 3rem;
        }

        h1 {
            font-size: 2.8rem;
            font-weight: 800;
            color: var(--text-primary);
            letter-spacing: -0.04em;
            line-height: 1.15;
            margin-bottom: 0.75rem;
            background: none;
            -webkit-background-clip: unset;
            -webkit-text-fill-color: unset;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.15rem;
            font-weight: 400;
            letter-spacing: -0.01em;
        }

        /* ===== Input Group ===== */
        .input-group {
            background: var(--card-bg);
            padding: 0.5rem;
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            display: flex;
            gap: 0;
            margin-bottom: 2.5rem;
            flex-wrap: wrap;
            border: none;
            transition: box-shadow var(--transition), transform var(--transition);
        }

        .input-group:hover {
            box-shadow: 0 6px 32px rgba(0, 0, 0, 0.08);
            transform: translateY(-1px);
        }

        .input-group:focus-within {
            box-shadow: 0 0 0 3px rgba(0, 113, 227, 0.2), 0 6px 32px rgba(0, 0, 0, 0.06);
        }

        input[type="url"] {
            flex: 1;
            padding: 1.25rem 1.75rem;
            border: none;
            border-radius: var(--radius-xl);
            font-size: 1.1rem;
            font-family: inherit;
            outline: none;
            background-color: transparent;
            color: var(--text-primary);
            transition: background-color var(--transition);
            min-width: 250px;
            letter-spacing: -0.01em;
        }

        input[type="url"]::placeholder {
            color: var(--text-tertiary);
            font-weight: 400;
        }

        input[type="url"]:focus {
            background-color: transparent;
            box-shadow: none;
        }

        button {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: var(--radius-pill);
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-family: inherit;
            letter-spacing: -0.01em;
        }

        button:hover {
            background-color: var(--primary-hover);
            transform: scale(1.02);
        }

        button:active {
            transform: scale(0.98);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* ===== Results ===== */
        #results-area {
            display: none;
            animation: fadeIn 0.6s ease-out;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 2rem;
            align-items: start;
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 2rem;
            }

            body {
                padding: 1.5rem 1rem;
            }
        }

        /* ===== Score Card ===== */
        .card {
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-md);
            padding: 2.5rem 2rem;
            border: none;
        }

        .gauge-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: sticky;
            top: 2rem;
        }

        .gauge {
            position: relative;
            width: 200px;
            height: 100px;
            border-radius: 200px 200px 0 0;
            background: var(--bg);
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .gauge-fill {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--success);
            transform-origin: bottom center;
            transform: rotate(-180deg);
            transition: transform 1.5s cubic-bezier(0.1, 0.7, 1.0, 0.1);
        }

        .gauge-cover {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 160px;
            height: 80px;
            background: var(--card-bg);
            border-radius: 160px 160px 0 0;
        }

        .score-display {
            font-size: 3.2rem;
            font-weight: 800;
            color: var(--text-primary);
            margin-top: -3rem;
            position: relative;
            z-index: 2;
            letter-spacing: -0.04em;
        }

        .score-label {
            color: var(--text-tertiary);
            font-weight: 500;
            margin-top: 0.5rem;
            font-size: 0.95rem;
            letter-spacing: -0.01em;
        }

        /* ===== Accordion ===== */
        .accordion {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .accordion-item {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-sm);
            border: none;
            overflow: hidden;
            transition: box-shadow var(--transition), transform var(--transition);
        }

        .accordion-item:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-1px);
        }

        .accordion-header {
            padding: 1.25rem 1.5rem;
            display: flex;
            align-items: center;
            cursor: pointer;
            background: var(--card-bg);
            user-select: none;
            transition: background-color var(--transition);
        }

        .accordion-header:hover {
            background-color: rgba(0, 0, 0, 0.015);
        }

        .status-icon {
            width: 1.75rem;
            height: 1.75rem;
            margin-right: 1rem;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .status-pass {
            color: var(--success);
            background: var(--success-bg);
        }

        .status-fail {
            color: var(--danger);
            background: var(--danger-bg);
        }

        .acc-title {
            flex: 1;
            font-weight: 600;
            font-size: 0.95rem;
            color: var(--text-primary);
            letter-spacing: -0.01em;
        }

        .acc-score {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-tertiary);
            margin-right: 1rem;
            padding: 0.3rem 0.75rem;
            background: var(--bg);
            border-radius: var(--radius-pill);
            letter-spacing: -0.01em;
        }

        .chevron {
            transition: transform 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
            color: var(--text-tertiary);
        }

        .accordion-item.active .chevron {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, padding 0.4s ease;
            background-color: var(--card-bg);
            border-top: 1px solid transparent;
        }

        .accordion-item.active .accordion-content {
            max-height: 1000px;
            padding: 1.5rem;
            border-top-color: var(--border);
            overflow-y: auto;
        }

        .data-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--text-tertiary);
            font-weight: 600;
            margin-bottom: 0.75rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .advice-box {
            background-color: var(--warning-bg);
            color: #8a6d3b;
            padding: 1.25rem;
            border-radius: var(--radius-md);
            margin-top: 0;
            font-size: 0.9rem;
            border-left: none;
            line-height: 1.7;
        }

        .advice-warning {
            background-color: rgba(255, 149, 0, 0.06);
            color: #9a3412;
        }

        .raw-data-box {
            background: var(--code-bg);
            padding: 1rem 1.25rem;
            border-radius: var(--radius-sm);
            font-family: 'SF Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.8rem;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-break: break-all;
            line-height: 1.7;
        }

        .tag-h1 {
            color: var(--warning);
            font-weight: 700;
        }

        .tag-h2 {
            color: var(--primary);
            font-weight: 600;
            margin-left: 1rem;
        }

        .tag-h3 {
            color: var(--text-tertiary);
            margin-left: 2rem;
        }

        .copy-btn {
            background: var(--bg);
            border: none;
            padding: 0.35rem 0.75rem;
            border-radius: var(--radius-pill);
            font-size: 0.7rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            color: var(--text-tertiary);
            font-family: inherit;
            font-weight: 500;
            transition: all var(--transition);
        }

        .copy-btn:hover {
            color: var(--primary);
            background: var(--primary-light);
        }

        /* ===== Loading / Skeleton ===== */
        .loader-overlay {
            display: none;
        }

        .skeleton-container {
            display: none;
            animation: fadeIn 0.4s ease-out;
        }

        .skeleton-container.active {
            display: block;
        }

        .skeleton-status {
            text-align: center;
            margin-bottom: 2rem;
        }

        .skeleton-spinner {
            width: 32px;
            height: 32px;
            border: 3px solid rgba(0, 0, 0, 0.06);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 1rem;
        }

        .skeleton-text {
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 500;
            transition: opacity 0.3s ease;
        }

        .skeleton-grid {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 2rem;
            align-items: start;
        }

        @media (max-width: 768px) {
            .skeleton-grid {
                grid-template-columns: 1fr;
            }
        }

        .skeleton-card {
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            padding: 2.5rem 2rem;
            box-shadow: var(--shadow-sm);
        }

        .skeleton-line {
            height: 14px;
            background: linear-gradient(90deg, #ececec 25%, #f5f5f5 50%, #ececec 75%);
            background-size: 200% 100%;
            animation: shimmerSkeleton 1.5s ease-in-out infinite;
            border-radius: 8px;
            margin-bottom: 0.75rem;
        }

        .skeleton-line.w-60 {
            width: 60%;
        }

        .skeleton-line.w-80 {
            width: 80%;
        }

        .skeleton-line.w-40 {
            width: 40%;
        }

        .skeleton-line.w-100 {
            width: 100%;
        }

        .skeleton-line.thick {
            height: 48px;
            border-radius: var(--radius-md);
        }

        .skeleton-line.circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 1rem;
        }

        .skeleton-items {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .skeleton-item {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 1.25rem 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        @keyframes shimmerSkeleton {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(12px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .error-message {
            background-color: var(--danger-bg);
            color: #c62828;
            padding: 1.25rem 1.5rem;
            border-radius: var(--radius-md);
            margin-bottom: 1.5rem;
            border: none;
            display: none;
            font-size: 0.9rem;
            font-weight: 500;
        }

        /* ===== Schema Badges ===== */
        .schema-badge {
            display: inline-block;
            padding: 0.3rem 0.85rem;
            border-radius: var(--radius-pill);
            font-size: 0.7rem;
            font-weight: 600;
            margin-right: 0.4rem;
            margin-bottom: 0.4rem;
            letter-spacing: -0.01em;
        }

        .badge-aeo {
            background-color: var(--success-bg);
            color: #15803d;
            border: none;
        }

        .badge-rich {
            background-color: var(--primary-light);
            color: #1e40af;
            border: none;
        }

        .badge-basic {
            background-color: var(--bg);
            color: var(--text-secondary);
            border: none;
        }

        .badge-unknown {
            background-color: var(--bg);
            color: var(--text-tertiary);
        }

        .schema-code-toggle {
            background: none;
            border: none;
            color: var(--primary);
            font-size: 0.8rem;
            cursor: pointer;
            transition: opacity var(--transition);
            font-family: inherit;
            font-weight: 500;
            padding: 0;
        }

        .schema-code-toggle:hover {
            opacity: 0.7;
        }

        .schema-code-container {
            display: none;
            margin-top: 0.75rem;
            background: var(--code-bg);
            padding: 1rem;
            border-radius: var(--radius-sm);
            font-family: 'SF Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.75rem;
            color: var(--text-secondary);
            white-space: pre-wrap;
            word-break: break-all;
            line-height: 1.6;
            max-height: 300px;
            overflow-y: auto;
        }

        .schema-code-container.show {
            display: block;
        }

        /* ===== Dev Fix Box ===== */
        .dev-fix-box {
            margin-top: 1.25rem;
            background-color: #1a1a1a;
            border-radius: var(--radius-md);
            overflow: hidden;
            border: none;
            box-shadow: var(--shadow-md);
        }

        .dev-fix-header {
            background-color: #222;
            padding: 0.75rem 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.06);
        }

        .dev-fix-title {
            color: #fbbf24;
            font-size: 0.75rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-family: inherit;
        }

        .dev-fix-copy-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: var(--radius-pill);
            padding: 0.35rem 1rem;
            font-size: 0.7rem;
            cursor: pointer;
            transition: all var(--transition);
            font-weight: 600;
        }

        .dev-fix-copy-btn:hover {
            background-color: var(--primary-hover);
            transform: scale(1.02);
        }

        .dev-fix-copy-btn.copied {
            background-color: var(--success);
        }

        .dev-fix-content {
            padding: 1.25rem;
            color: #4ade80;
            font-family: 'SF Mono', 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.8rem;
            white-space: pre-wrap;
            line-height: 1.7;
        }

        /* ===== Tech Grid ===== */
        .tech-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 0.75rem;
            margin-top: 1rem;
        }

        @media (min-width: 640px) {
            .tech-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .tech-item {
            background-color: var(--bg);
            border: none;
            border-radius: var(--radius-sm);
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .tech-icon {
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .tech-info {
            flex: 1;
        }

        .tech-title {
            font-weight: 700;
            color: var(--text-primary);
            font-size: 0.85rem;
            margin-bottom: 0.1rem;
            letter-spacing: -0.01em;
        }

        .tech-desc {
            font-size: 0.75rem;
            color: var(--text-tertiary);
            line-height: 1.3;
        }

        /* ===== Utility Classes ===== */
        .grid {
            display: grid;
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }

        @media (min-width: 768px) {
            .md\:grid-cols-2 {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }

        .gap-3 {
            gap: 0.75rem;
        }

        .mt-4 {
            margin-top: 1rem;
        }

        .flex {
            display: flex;
        }

        .flex-row {
            flex-direction: row;
        }

        .flex-col {
            flex-direction: column;
        }

        .items-center {
            align-items: center;
        }

        .p-3 {
            padding: 0.75rem;
        }

        .bg-gray-50 {
            background-color: var(--bg);
        }

        .border {
            border-width: 1px;
        }

        .border-gray-200 {
            border-color: rgba(0, 0, 0, 0.06);
        }

        .rounded-lg {
            border-radius: var(--radius-sm);
        }

        .shadow-sm {
            box-shadow: var(--shadow-sm);
        }

        .flex-shrink-0 {
            flex-shrink: 0;
        }

        .mr-3 {
            margin-right: 0.75rem;
        }

        .text-2xl {
            font-size: 1.5rem;
            line-height: 2rem;
        }

        .font-bold {
            font-weight: 700;
        }

        .text-sm {
            font-size: 0.875rem;
            line-height: 1.25rem;
        }

        .text-gray-700 {
            color: var(--text-primary);
        }

        .uppercase {
            text-transform: uppercase;
        }

        .text-xs {
            font-size: 0.75rem;
            line-height: 1rem;
        }

        .text-gray-500 {
            color: var(--text-tertiary);
        }

        /* ===== AEO AI Prompt Section ===== */
        .aeo-prompt-section {
            margin-top: 3rem;
            display: none;
            animation: fadeIn 0.6s ease-out;
        }

        .aeo-prompt-card {
            background: linear-gradient(160deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            border-radius: var(--radius-xl);
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
            border: none;
            position: relative;
            overflow: hidden;
        }

        .aeo-prompt-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #667eea, #764ba2, #f093fb, #667eea);
            background-size: 200% 100%;
            animation: shimmer 4s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% {
                background-position: 200% 0;
            }

            100% {
                background-position: -200% 0;
            }
        }

        .aeo-prompt-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }

        .aeo-prompt-icon {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
            backdrop-filter: blur(8px);
        }

        .aeo-prompt-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #f0f0f5;
            letter-spacing: -0.03em;
        }

        .aeo-prompt-subtitle {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.88rem;
            margin-bottom: 1.75rem;
            line-height: 1.6;
        }

        .aeo-prompt-body {
            background: rgba(0, 0, 0, 0.25);
            border: 1px solid rgba(255, 255, 255, 0.06);
            border-radius: var(--radius-md);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            max-height: 320px;
            overflow-y: auto;
        }

        .aeo-prompt-body::-webkit-scrollbar {
            width: 4px;
        }

        .aeo-prompt-body::-webkit-scrollbar-track {
            background: transparent;
        }

        .aeo-prompt-body::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 2px;
        }

        .aeo-prompt-text {
            color: rgba(165, 243, 252, 0.9);
            font-family: 'SF Mono', 'Consolas', 'Monaco', monospace;
            font-size: 0.78rem;
            white-space: pre-wrap;
            word-break: break-word;
            line-height: 1.75;
        }

        .aeo-prompt-actions {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .aeo-copy-btn {
            flex: 1;
            min-width: 180px;
            padding: 0.9rem 1.5rem;
            border: none;
            border-radius: var(--radius-pill);
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all var(--transition);
            font-family: inherit;
            letter-spacing: -0.01em;
        }

        .aeo-copy-btn.primary {
            background: rgba(255, 255, 255, 0.95);
            color: #1a1a2e;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.15);
        }

        .aeo-copy-btn.primary:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
        }

        .aeo-copy-btn.secondary {
            background: rgba(255, 255, 255, 0.08);
            color: rgba(255, 255, 255, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(8px);
        }

        .aeo-copy-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.14);
            transform: scale(1.02);
        }

        .aeo-copy-btn.copied {
            background: var(--success) !important;
            color: white !important;
            border-color: transparent !important;
        }

        .aeo-info-chips {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .aeo-chip {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.4rem 0.85rem;
            border-radius: var(--radius-pill);
            font-size: 0.72rem;
            font-weight: 600;
            letter-spacing: -0.01em;
            backdrop-filter: blur(8px);
        }

        .aeo-chip.purple {
            background: rgba(139, 92, 246, 0.12);
            color: rgba(196, 181, 253, 0.9);
            border: 1px solid rgba(139, 92, 246, 0.15);
        }

        .aeo-chip.blue {
            background: rgba(59, 130, 246, 0.12);
            color: rgba(147, 197, 253, 0.9);
            border: 1px solid rgba(59, 130, 246, 0.15);
        }

        .aeo-chip.green {
            background: rgba(16, 185, 129, 0.12);
            color: rgba(110, 231, 183, 0.9);
            border: 1px solid rgba(16, 185, 129, 0.15);
        }

        /* ===== Toast Notification ===== */
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: var(--text-primary);
            color: white;
            padding: 0.85rem 1.5rem;
            border-radius: var(--radius-pill);
            font-size: 0.85rem;
            font-weight: 600;
            font-family: inherit;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            opacity: 0;
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
            z-index: 999;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* ===== Developer View Toggle ===== */
        .dev-view-toggle {
            background: none;
            border: none;
            color: var(--text-tertiary);
            font-size: 0.78rem;
            font-weight: 500;
            cursor: pointer;
            padding: 0.5rem 0;
            margin-top: 0.75rem;
            font-family: inherit;
            display: flex;
            align-items: center;
            gap: 0.35rem;
            transition: color var(--transition);
        }

        .dev-view-toggle:hover {
            color: var(--primary);
        }

        .dev-view-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease-out, margin 0.4s ease;
            margin-top: 0;
        }

        .dev-view-content.open {
            max-height: 2000px;
            margin-top: 0.75rem;
        }

        /* ===== Button Spin Animation ===== */
        @keyframes btnSpin {
            to {
                transform: rotate(360deg);
            }
        }

        .btn-spinner {
            animation: btnSpin 1s linear infinite;
            display: inline-block;
        }
    </style>
</head>

<body>

    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <div class="container">
        <header>
            <h1>‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ï‡∏£‡∏ß‡∏à AEO/SEO</h1>
            <p class="subtitle">‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Answer Engine Optimization</p>
        </header>

        <div class="input-group">
            <input type="url" id="urlInput" placeholder="‡∏ß‡∏≤‡∏á URL ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡πÄ‡∏ä‡πà‡∏ô https://example.com" required>
            <button id="analyzeBtn" onclick="analyzeSite()">
                <svg id="btnIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="11" cy="11" r="8"></circle>
                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                </svg>
                <span id="btnText">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏•‡∏¢</span>
            </button>
        </div>

        <!-- Skeleton Loading -->
        <div class="skeleton-container" id="skeleton">
            <div class="skeleton-status">
                <div class="skeleton-spinner"></div>
                <div class="skeleton-text" id="skeleton-status">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå...</div>
            </div>
            <div class="skeleton-grid">
                <div class="skeleton-card">
                    <div class="skeleton-line circle"></div>
                    <div class="skeleton-line w-60" style="margin: 0 auto;"></div>
                </div>
                <div class="skeleton-items">
                    <div class="skeleton-item">
                        <div class="skeleton-line w-80"></div>
                        <div class="skeleton-line w-40"></div>
                    </div>
                    <div class="skeleton-item">
                        <div class="skeleton-line w-60"></div>
                        <div class="skeleton-line w-80"></div>
                    </div>
                    <div class="skeleton-item">
                        <div class="skeleton-line w-100"></div>
                        <div class="skeleton-line w-40"></div>
                    </div>
                    <div class="skeleton-item">
                        <div class="skeleton-line w-80"></div>
                        <div class="skeleton-line w-60"></div>
                    </div>
                </div>
            </div>
        </div>

        <div id="errorMsg" class="error-message"></div>

        <div id="results-area">
            <div class="dashboard-grid">

                <!-- Score Card -->
                <div class="card gauge-container">
                    <h2 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 2rem;">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</h2>
                    <div class="gauge">
                        <div class="gauge-fill" id="gaugeFill"></div>
                        <div class="gauge-cover"></div>
                    </div>
                    <div class="score-display" id="scoreValue">0</div>
                    <div class="score-label" id="scoreText">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì...</div>
                </div>

                <!-- Accordion Results -->
                <div class="accordion" id="accordionList">
                    <!-- Items will be injected here -->
                </div>

            </div>
        </div>

        <!-- AEO AI Prompt Section -->
        <div class="aeo-prompt-section" id="aeo-prompt-section">
            <div class="aeo-prompt-card">
                <div class="aeo-prompt-header">
                    <div class="aeo-prompt-icon">ü§ñ</div>
                    <div>
                        <div class="aeo-prompt-title">AEO Deep Analysis by AI</div>
                    </div>
                </div>
                <div class="aeo-prompt-subtitle">
                    ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Prompt ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô ChatGPT / Gemini / Claude ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ AI
                    ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Answer Engine ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á
                </div>

                <div class="aeo-info-chips">
                    <span class="aeo-chip purple">üß† AI's Understanding</span>
                    <span class="aeo-chip blue">üîç Missing Context</span>
                    <span class="aeo-chip green">üí° AEO Opportunities</span>
                </div>

                <div class="aeo-prompt-body">
                    <div class="aeo-prompt-text" id="aeo-prompt-text"></div>
                </div>

                <div class="aeo-prompt-actions">
                    <button class="aeo-copy-btn primary" id="aeo-copy-main" onclick="copyAeoPrompt(this)">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                        </svg>
                        ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å Prompt ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
                    </button>
                    <button class="aeo-copy-btn secondary" onclick="openAeoInChatGPT()">
                        üí¨ ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô ChatGPT
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- Robust Proxy Configuration ---
        const PROXIES = [
            'https://api.allorigins.win/raw?url=',
            'https://corsproxy.io/?',
            'https://api.codetabs.com/v1/proxy?quest=',
            'https://thingproxy.freeboard.io/fetch/'
        ];

        async function fetchWithFallback(targetUrl) {
            const encodedUrl = encodeURIComponent(targetUrl);
            let lastError = null;
            const btn = document.getElementById('analyzeBtn');

            const btnText = document.getElementById('btnText');
            for (let i = 0; i < PROXIES.length; i++) {
                const proxy = PROXIES[i];
                try {
                    // Update UI if retrying (not the first one)
                    if (i > 0 && btnText) {
                        btnText.textContent = `‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏ó‡∏µ‡πà ${i}...`;
                    }

                    console.log(`Trying proxy: ${proxy}`);
                    const response = await fetch(proxy + encodedUrl);
                    if (!response.ok) throw new Error(`Status ${response.status}`);

                    const text = await response.text();
                    if (!text || text.trim().length === 0) throw new Error('Empty response');
                    return text;

                } catch (err) {
                    console.warn(`Proxy failed: ${proxy}`, err);
                    lastError = err;
                    // Provide immediate feedback before next loop
                    if (btnText) btnText.textContent = `‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á...`;
                }
            }
            throw new Error('‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢! ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏π‡∏á (Firewall) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠‡∏ü‡∏£‡∏µ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏≠‡∏∑‡πà‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á');
        }

        async function analyzeSite() {
            const urlInput = document.getElementById('urlInput');
            const url = urlInput.value.trim();

            if (!url) {
                showError("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å URL ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
                return;
            }

            hideError();
            setLoading(true);
            document.getElementById('results-area').style.display = 'none';

            try {
                const htmlContent = await fetchWithFallback(url);
                const parser = new DOMParser();
                const doc = parser.parseFromString(htmlContent, 'text/html');

                const results = performAnalysis(doc, url); // Pass url to performAnalysis
                renderResults(results);
                document.getElementById('results-area').style.display = 'block';

                // Build and display AEO Deep Analysis Prompt
                buildAeoPrompt(doc);

            } catch (err) {
                showError(err.message);
                console.error(err);
            } finally {
                setLoading(false);
            }
        }

        function performAnalysis(doc, pageUrl) { // Accept pageUrl as argument
            const targetUrl = pageUrl; // Fix: Assign pageUrl to targetUrl for sub-modules
            const items = [];

            // 1. Meta Tags Analysis
            const title = doc.querySelector('title') ? doc.querySelector('title').innerText.trim() : "";
            const metaDesc = doc.querySelector('meta[name="description"]') ? doc.querySelector('meta[name="description"]').content.trim() : "";

            const titleLen = title.length;
            const descLen = metaDesc.length;
            const titlePass = titleLen >= 30 && titleLen <= 65;
            const descPass = descLen >= 50 && descLen <= 160;
            const metaScore = (titlePass ? 10 : 0) + (descPass ? 10 : 0);

            // Smart Advice: Meta Tags
            let titleAdvice = "";
            if (titleLen > 65) {
                titleAdvice = `Title ‡∏¢‡∏≤‡∏ß ${titleLen} ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ (‡πÄ‡∏Å‡∏¥‡∏ô‡∏°‡∏≤ ${titleLen - 65} ‡∏ï‡∏±‡∏ß) ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ó‡πâ‡∏≤‡∏¢‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ñ‡∏π‡∏Å Google ‡∏ï‡∏±‡∏î‡∏ó‡∏¥‡πâ‡∏á‡∏Ñ‡∏£‡∏±‡∏ö`;
            } else if (titleLen < 30) {
                titleAdvice = `Title ‡∏™‡∏±‡πâ‡∏ô‡πÑ‡∏õ‡∏ô‡∏¥‡∏î (‡πÅ‡∏Ñ‡πà ${titleLen} ‡∏ï‡∏±‡∏ß) ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏Ü‡∏©‡∏ì‡∏≤‡∏ü‡∏£‡∏µ ‡∏•‡∏≠‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏∏‡∏î‡πÄ‡∏î‡πà‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î‡∏Ñ‡∏£‡∏±‡∏ö`;
            } else {
                titleAdvice = `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß Title ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏° (${titleLen} ‡∏ï‡∏±‡∏ß) ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ö‡∏ô Google ‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö`;
            }

            let descAdvice = "";
            if (descLen > 160) {
                descAdvice = `Description ‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (${descLen} ‡∏ï‡∏±‡∏ß) ‡∏™‡∏≤‡∏£‡∏∞‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ï‡∏≠‡∏ô‡∏ó‡πâ‡∏≤‡∏¢‡∏≠‡∏≤‡∏à‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡∏Ñ‡∏£‡∏±‡∏ö`;
            } else if (descLen < 50) {
                descAdvice = `Description ‡∏™‡∏±‡πâ‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏ä‡∏¥‡∏ç‡∏ä‡∏ß‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏ô‡∏≠‡∏¢‡∏≤‡∏Å‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡∏Å‡∏´‡∏ô‡πà‡∏≠‡∏¢‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö`;
            } else {
                descAdvice = `‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß Description ‡∏î‡∏µ‡∏°‡∏≤‡∏Å (${descLen} ‡∏ï‡∏±‡∏ß) ‡∏ô‡πà‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö`;
            }

            items.push({
                id: 'meta',
                title: "Meta Tags (Title & Description)",
                score: metaScore,
                maxScore: 20,
                pass: metaScore >= 10,
                dataLabel: "‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö (Title) ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ (Description)",
                advice: `<strong>Title:</strong> ${titleAdvice}<br><br><strong>Description:</strong> ${descAdvice}`,
                dataContent: `Title (${titleLen} chars):\n${title}\n\nDescription (${descLen} chars):\n${metaDesc || "‡πÑ‡∏°‡πà‡∏û‡∏ö Meta Description"}`,
                copyText: `Title:\n${title}\n\nDescription:\n${metaDesc}`
            });

            // 2. Headings
            const headers = Array.from(doc.querySelectorAll('h1, h2, h3'));
            const headerData = headers.map(h => ({
                tag: h.tagName.toLowerCase(),
                text: h.innerText.trim()
            })).filter(h => h.text.length > 0);

            const h1 = headerData.find(h => h.tag === 'h1');
            const h1Pass = !!h1 && h1.text.length > 10;

            const h3Count = headerData.filter(h => h.tag === 'h3').length;

            let headingAdvice = "";
            let headingClass = "";

            if (!h1) {
                headingAdvice = "‡πÑ‡∏°‡πà‡∏û‡∏ö H1! ‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ H1 ‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏≠‡∏±‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏≠‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö";
                headingClass = "advice-warning";
            } else if (h3Count > 0) {
                headingAdvice = "‡∏ß‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏°‡∏≤‡∏Å! ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÑ‡∏•‡πà‡∏•‡∏≥‡∏î‡∏±‡∏ö H1 > H2 > H3 ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô AI ‡∏ä‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ö";
            } else { // h3Count === 0
                headingAdvice = "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ (‡∏°‡∏µ H1, H2) ‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏Ç‡∏≤‡∏î‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏¢‡πà‡∏≠‡∏¢‡∏£‡∏∞‡∏î‡∏±‡∏ö H3 ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° H3 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏´‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏¢‡∏¥‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö";
                headingClass = "advice-warning";
            }

            items.push({
                id: 'headings',
                title: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ (Heading Structure)",
                score: h1Pass ? 15 : 0,
                maxScore: 15,
                pass: h1Pass,
                dataLabel: "‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏û‡∏ö (H1-H3)",
                advice: headingAdvice,
                adviceClass: headingClass,
                dataContent: headerData.map(h => `<span class='tag-${h.tag}'>[${h.tag.toUpperCase()}]</span> ${h.text}`).join('\n') || "‡πÑ‡∏°‡πà‡∏û‡∏ö H1-H3",
                copyText: headerData.map(h => `[${h.tag.toUpperCase()}] ${h.text}`).join('\n')
            });

            // 3. Voice Search
            const targetKeywords = ['‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£', '‡πÑ‡∏´‡∏°', '‡∏£‡∏≤‡∏Ñ‡∏≤', '‡∏ß‡∏¥‡∏ò‡∏µ', 'How to', 'What is', 'How much', 'Cost', 'Guide', 'Best'];
            const matchedKeywords = [];
            headerData.forEach(h => {
                targetKeywords.forEach(kw => {
                    if (h.text.toLowerCase().includes(kw.toLowerCase()) && !matchedKeywords.includes(kw)) {
                        matchedKeywords.push(kw);
                    }
                });
            });
            const voicePass = matchedKeywords.length > 0;

            // Smart Advice: Voice Search
            let voiceAdvice = "";
            if (voicePass) {
                voiceAdvice = `‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏û‡∏ö‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ${matchedKeywords.join(', ')} ‡πÉ‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÅ‡∏ö‡∏ö‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö`;
            } else {
                voiceAdvice = `‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏π‡∏õ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏ô H2/H3 ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ö‡∏≤‡∏á‡∏≠‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô "‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà", "‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£", "‡∏î‡∏µ‡πÑ‡∏´‡∏°" ‡∏î‡∏π‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö`;
            }

            items.push({
                id: 'voice',
                title: "‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡∏µ‡∏¢‡∏á (Voice Search)",
                score: voicePass ? 20 : 0,
                maxScore: 20,
                pass: voicePass,
                dataLabel: "Keyword ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏û‡∏ö‡πÉ‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠",
                advice: voiceAdvice,
                dataContent: voicePass ? `‡∏û‡∏ö‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤: ${matchedKeywords.join(', ')}` : "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ñ‡∏≥‡∏Ñ‡∏µ‡∏¢‡πå‡πÄ‡∏ß‡∏¥‡∏£‡πå‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏ô H1-H3",
                copyText: matchedKeywords.join(', ')
            });

            // 4. Schema Markup (Deep Dive & Strict Scoring + Smart Fix)
            const scripts = Array.from(doc.querySelectorAll('script[type="application/ld+json"]'));
            let typesFound = [];
            let rawJsonList = [];

            // 1. Deep Dive Extraction
            scripts.forEach(script => {
                try {
                    const json = JSON.parse(script.innerText);
                    rawJsonList.push(json);

                    // Check 1: @graph
                    if (json['@graph'] && Array.isArray(json['@graph'])) {
                        json['@graph'].forEach(item => {
                            if (item['@type']) typesFound.push(item['@type']);
                        });
                    }
                    // Check 2: Top-level @type
                    else if (json['@type']) {
                        const t = json['@type'];
                        if (Array.isArray(t)) typesFound.push(...t);
                        else typesFound.push(t);
                    }
                } catch (e) {
                    console.error("Schema Parse Error", e);
                }
            });

            // Clean up: Flatten & Unique
            typesFound = [...new Set(typesFound.flat())].filter(t => t);

            // 2. Strict Scoring
            let schemaScore = 0;
            const hasAeo = typesFound.some(t => ['FAQPage', 'HowTo', 'QAPage'].includes(t));
            const hasRich = typesFound.some(t => ['Article', 'NewsArticle', 'Product', 'Review', 'VideoObject'].includes(t));

            if (hasAeo) {
                schemaScore = 20;
            } else if (hasRich) {
                schemaScore = 10;
            } else {
                schemaScore = 0;
            }

            // 3. UI & Advice & Smart Fix
            const schemaPass = schemaScore >= 10;
            let schemaAdvice = "";
            let schemaAdviceClass = "";
            let fixHtml = "";

            // Get Context for Prompt
            const pageTitle = doc.title || (doc.querySelector('h1') ? doc.querySelector('h1').innerText : "This Page");

            if (schemaScore === 20) {
                schemaAdvice = "üèÜ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÄ‡∏ó‡∏û! ‡∏°‡∏µ Schema ‡∏™‡∏≤‡∏¢ AEO ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô";
            } else {
                if (schemaScore === 10) {
                    schemaAdvice = "‚úÖ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏°‡∏≤‡∏ñ‡∏π‡∏Å‡∏ó‡∏≤‡∏á! ‡∏û‡∏ö Schema ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤/‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡πâ‡∏ß ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏ï‡∏¥‡∏î Voice Search ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° FAQPage ‡∏´‡∏£‡∏∑‡∏≠ HowTo ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏£‡∏±‡∏ö";
                } else { // 0
                    schemaAdvice = "‚ö†Ô∏è ‡∏™‡∏≠‡∏ö‡∏ï‡∏Å‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á Voice Search! ‡πÄ‡∏ß‡πá‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡πÅ‡∏Ñ‡πà‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (Breadcrumb) ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÉ‡∏´‡πâ AI ‡∏ô‡∏≥‡πÑ‡∏õ‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏° FAQPage Schema ‡∏î‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!";
                    schemaAdviceClass = "advice-warning";
                }

                // Generate Smart Prompt (Geek Feature)
                const fixPrompt = `Act as a Senior Technical SEO Specialist.
My website page title is: "${pageTitle}"
The current Schema Markup is missing "FAQPage" which is crucial for AEO (Voice Search).

Task:
Write a valid JSON-LD "FAQPage" Schema markup for this page.
1. Generate 3 frequently asked questions (Q&A) relevant to "${pageTitle}".
2. The questions should be optimized for Voice Search (Natural Language).
3. The answers must be concise (40-50 words) to target Featured Snippets.
4. Output only the JSON-LD code block.`;

                fixHtml = `
                    <div style="background-color: #f0f9ff; border-left: 4px solid #0284c7; padding: 0.75rem; margin-top: 1rem; border-radius: 0.25rem; font-size: 0.85rem; color: #0c4a6e;">
                        <strong>üí° ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:</strong> ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡πÉ‡∏ô‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏™‡∏µ‡∏î‡∏≥‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á ‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô ChatGPT ‡∏´‡∏£‡∏∑‡∏≠ Gemini ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ AI ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
                    </div>
                    <div class="dev-fix-box" style="margin-top: 0.5rem;">
                        <div class="dev-fix-header">
                            <div class="dev-fix-title">üõ†Ô∏è Developer Quick Fix</div>
                            <button class="dev-fix-copy-btn" onclick="copyPromptText(this)">Copy Prompt</button>
                        </div>
                        <div class="dev-fix-content">${fixPrompt}</div>
                    </div>
                 `;
            }

            const typeLabel = typesFound.length > 0 ? `‡∏û‡∏ö Schema: ${typesFound.join(', ')}` : "‡πÑ‡∏°‡πà‡∏û‡∏ö Schema Markup";
            const jsonDump = rawJsonList.length > 0 ? JSON.stringify(rawJsonList, null, 2) : "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Code";

            // Badges HTML
            const badgesHtml = typesFound.map(t => {
                let badgeClass = 'badge-unknown';
                if (['FAQPage', 'HowTo', 'QAPage'].includes(t)) badgeClass = 'badge-aeo';
                else if (['Article', 'NewsArticle', 'Product', 'Review'].includes(t)) badgeClass = 'badge-rich';
                else badgeClass = 'badge-basic';
                return `<span class="schema-badge ${badgeClass}">${t}</span>`;
            }).join('');

            items.push({
                id: 'schema',
                title: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Schema Markup)",
                score: schemaScore,
                maxScore: 20,
                pass: schemaPass,
                dataLabel: typeLabel,
                advice: schemaAdvice,
                adviceClass: schemaAdviceClass,
                dataContent: `<div>${badgesHtml || typeLabel}</div>
                              ${fixHtml}
                              <button class="schema-code-toggle" onclick="toggleSchemaCode(this)">‡∏î‡∏π Code ‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏° ‚ñº</button>
                              <div class="schema-code-container">${jsonDump}</div>`,
                copyText: jsonDump
            });

            // 5. Image Alt Text (Strict & Evidence-Based)
            const images = Array.from(doc.querySelectorAll('img'));
            let totalAnalyzed = 0;
            let badImages = [];

            images.forEach(img => {
                // Filter: Ignore tiny pixels or hidden images (Best effort)
                const width = img.getAttribute('width');
                const height = img.getAttribute('height');
                const style = img.getAttribute('style') || "";

                if (style.includes('display: none')) return;
                if (width && parseInt(width) < 5) return;
                if (height && parseInt(height) < 5) return;

                totalAnalyzed++;

                // Check Alt
                const alt = img.getAttribute('alt');
                if (alt === null || alt.trim() === "") {
                    // Collect evidence (Max 5)
                    const src = img.getAttribute('src') || "(No SRC)";
                    badImages.push(src);
                }
            });

            // Scoring
            let altScore = 0;
            if (badImages.length === 0) altScore = 10;
            else if (badImages.length <= 2) altScore = 5;
            else altScore = 0;

            const altPass = altScore >= 5;

            // Advice
            let imgAdvice = "";
            let imgAdviceClass = "";

            if (totalAnalyzed === 0) {
                imgAdvice = "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ (‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà)";
                altScore = 10; // Neutral/Pass
            } else if (badImages.length === 0) {
                imgAdvice = `‚úÖ ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏±‡πâ‡∏á ${totalAnalyzed} ‡∏£‡∏π‡∏õ ‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ (Alt Text) ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡∏î‡∏µ‡∏ï‡πà‡∏≠ SEO ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö`;
            } else {
                imgAdvice = `‚ö†Ô∏è ‡∏û‡∏ö‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û ${badImages.length} ‡∏£‡∏π‡∏õ (‡∏à‡∏≤‡∏Å ${totalAnalyzed}) ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ (Alt Text) ‡∏ã‡∏∂‡πà‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ Google ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏Å`;
                if (badImages.length > 2) imgAdviceClass = "advice-warning";
            }

            // Evidence List
            let evidenceHtml = "";
            if (badImages.length > 0) {
                const listItems = badImages.slice(0, 5).map(src => `<li style="margin-bottom:4px;word-break:break-all;">${src.substring(0, 80)}${src.length > 80 ? '...' : ''}</li>`).join('');
                evidenceHtml = `<ul style="margin-top:0.5rem; padding-left:1.5rem; font-size:0.85rem; color:#b91c1c;">${listItems}</ul>`;
                if (badImages.length > 5) evidenceHtml += `<div style="font-size:0.8rem; margin-top:4px; color:#666;">(‡πÅ‡∏•‡∏∞‡∏≠‡∏µ‡∏Å ${badImages.length - 5} ‡∏£‡∏π‡∏õ...)</div>`;
            }

            items.push({
                id: 'images',
                title: "‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (Image Alt Text)",
                score: altScore,
                maxScore: 10,
                pass: altPass,
                dataLabel: "‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Alt Text",
                advice: imgAdvice,
                adviceClass: imgAdviceClass,
                dataContent: `<div>‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö: ${totalAnalyzed}</div>
                              <div>‡πÑ‡∏°‡πà‡∏°‡∏µ Alt Text: <strong>${badImages.length}</strong></div>
                              ${evidenceHtml}`,
                copyText: `Total Images Analyzed: ${totalAnalyzed}\nMissing Alt: ${badImages.length}\nSample Missing: ${badImages.slice(0, 5).join(', ')}`
            });

            // 6. Content Depth
            const paragraphs = Array.from(doc.querySelectorAll('p'));
            const firstP = paragraphs.find(p => p.innerText.trim().length > 50);
            const bodyText = doc.body.innerText || "";
            const wordCount = bodyText.trim().split(/\s+/).length;

            let contentScore = 0;
            if (wordCount > 500) contentScore = 15;
            else if (wordCount > 300) contentScore = 10;
            else contentScore = 5;

            // Smart Advice: Content
            let contentAdvice = "";
            if (wordCount < 300) {
                contentAdvice = `‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏±‡πâ‡∏ô‡∏°‡∏≤‡∏Å (${wordCount} ‡∏Ñ‡∏≥) ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πá‡∏ô Thin Content ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏Ç‡∏¢‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 2-3 ‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏£‡∏±‡∏ö`;
            } else if (wordCount <= 500) {
                contentAdvice = `‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á (${wordCount} ‡∏Ñ‡∏≥) ‡∏û‡∏≠‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏π‡πà‡πÅ‡∏Ç‡πà‡∏á ‡∏•‡∏≠‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡∏∞ 600 ‡∏Ñ‡∏≥‡∏î‡∏π‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö`;
            } else {
                contentAdvice = `‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏õ‡∏∂‡πâ‡∏Å! (${wordCount} ‡∏Ñ‡∏≥) ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ô‡∏µ‡πâ AI ‡∏ä‡∏≠‡∏ö‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏î‡∏π‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏£‡∏π‡πâ‡∏à‡∏£‡∏¥‡∏á`;
            }

            items.push({
                id: 'content',
                title: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ (Content Depth)",
                score: contentScore,
                maxScore: 15,
                pass: contentScore >= 10,
                dataLabel: "‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ñ‡∏≥‡πÅ‡∏•‡∏∞‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å",
                advice: contentAdvice,
                dataContent: `‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏≥: ${wordCount}\n\n‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å:\n${firstP ? firstP.innerText.substring(0, 200) + '...' : '‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏ß‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠'}`,
                copyText: `Word Count: ${wordCount}\n\nFirst Paragraph:\n${firstP ? firstP.innerText : ''}`
            });

            // 7. Link Health Structure
            const allLinks = Array.from(doc.querySelectorAll('a'));
            const host = new URL(targetUrl).hostname;
            let internal = 0, external = 0, empty = 0;

            allLinks.forEach(a => {
                const href = a.getAttribute('href');
                if (!href || href === '#' || href.toLowerCase().startsWith('javascript:')) {
                    empty++;
                } else {
                    try {
                        const linkUrl = new URL(href, targetUrl);
                        if (linkUrl.hostname === host) internal++;
                        else external++;
                    } catch (e) { empty++; }
                }
            });

            let linkScore = 0;
            if (internal > 2) linkScore += 5;
            if (external > 0) linkScore += 5;
            if (empty > 0) linkScore = Math.max(0, linkScore - 5); // Penalty

            items.push({
                id: 'links',
                title: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå (Link Health)",
                score: linkScore,
                maxScore: 10,
                pass: linkScore >= 5 && empty === 0,
                dataLabel: "‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏•‡∏¥‡∏á‡∏Å‡πå",
                advice: empty > 0 ? `‚ùå ‡∏û‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÄ‡∏õ‡∏•‡πà‡∏≤ ${empty} ‡∏à‡∏∏‡∏î (‡πÄ‡∏ä‡πà‡∏ô #) ‡∏Ñ‡∏ß‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏£‡∏±‡∏ö` : (internal === 0 ? "‚ö†Ô∏è ‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏†‡∏≤‡∏¢‡πÉ‡∏ô (Internal Linking) ‡∏ó‡∏≥‡πÉ‡∏´‡πâ Google ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏≤‡∏Å" : "‚úÖ ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö"),
                dataContent: `Internal: ${internal}, External: ${external}, Empty/Broken: ${empty}`,
                copyText: `Internal: ${internal}\nExternal: ${external}\nBroken: ${empty}`
            });

            // 9. AI Readability (Structure)
            const listCount = doc.querySelectorAll('ul, ol').length;
            const tableCount = doc.querySelectorAll('table').length;
            const boldCount = doc.querySelectorAll('strong, b').length;

            let aiScore = 0;
            if (listCount >= 2) aiScore += 5;
            if (tableCount > 0) aiScore += 3;
            if (boldCount > 5) aiScore += 2;
            // Cap at 10 (Though total above is 10)

            items.push({
                id: 'ai-read',
                title: "‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö AI (AI Readability)",
                score: aiScore,
                maxScore: 10,
                pass: aiScore >= 5,
                dataLabel: "‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏Å‡∏±‡∏ö AI",
                advice: aiScore > 7 ? "üí° ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°! ‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Bullet Points, ‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏´‡∏ô‡∏≤ ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ AI ‡∏ô‡∏≥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ‡∏™‡∏£‡∏∏‡∏õ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢" : "üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö AEO: ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Bullet Points (Lists) ‡πÅ‡∏•‡∏∞ ‡∏ï‡∏≤‡∏£‡∏≤‡∏á (Table) ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ AI ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö",
                dataContent: `Lists (ul/ol): ${listCount}\nTables: ${tableCount}\nBold Text: ${boldCount}`,
                copyText: `Lists: ${listCount}\nTables: ${tableCount}\nBold: ${boldCount}`
            });

            // 10. Technical Performance (Resource Count)
            const scriptCount = doc.querySelectorAll('script').length;
            const cssCount = doc.querySelectorAll('link[rel="stylesheet"], style').length;

            let perfScore = 10;
            let perfAdvice = "üü¢ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏î‡∏µ";

            if (scriptCount > 15) {
                perfScore -= 5;
                perfAdvice = `üî¥ ‡∏û‡∏ö JavaScript ${scriptCount} ‡πÑ‡∏ü‡∏•‡πå! ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏ß‡πá‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏ä‡πâ‡∏≤`;
            } else if (cssCount > 10) {
                perfAdvice = `üü† ‡πÑ‡∏ü‡∏•‡πå CSS ‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (${cssCount}) ‡∏Ñ‡∏ß‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏ß‡∏°‡πÑ‡∏ü‡∏•‡πå`;
            }

            items.push({
                id: 'perf',
                title: "‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ (Resource Count)",
                score: perfScore,
                maxScore: 10,
                pass: perfScore > 5,
                dataLabel: "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏ü‡∏•‡πå Resource",
                advice: perfAdvice,
                dataContent: `Scripts (JS): ${scriptCount}\nStyles (CSS): ${cssCount}`,
                copyText: `JS Files: ${scriptCount}\nCSS Files: ${cssCount}`
            });


            // 11. Technical & Indexing (Critical Checks)
            const canonical = doc.querySelector('link[rel="canonical"]')?.href || "";
            const robots = doc.querySelector('meta[name="robots"]')?.content || "";
            const viewport = doc.querySelector('meta[name="viewport"]')?.content || "";
            const favicon = doc.querySelector('link[rel="icon"], link[rel="shortcut icon"]')?.href || "";

            let techScore = 0;
            let isCritical = false; // For Auto-Open

            // 1. Canonical
            const canonicalPass = !!canonical;
            if (canonicalPass) techScore += 4;
            const canonicalIcon = canonicalPass ? '‚úÖ' : '‚ö†Ô∏è';
            const canonicalMsg = canonicalPass ? '‡∏ï‡πâ‡∏ô‡∏â‡∏ö‡∏±‡∏ö‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á' : '‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ã‡πâ‡∏≥';

            // 2. Robots
            const robotsFail = robots.includes("noindex");
            if (robotsFail) {
                isCritical = true;
                techScore = 0;
            } else {
                techScore += 3;
            }
            const robotsPass = !robotsFail;
            const robotsIcon = robotsPass ? '‚úÖ' : 'üî¥';
            const robotsMsg = robotsPass ? '‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏ö‡∏ô Google' : '‡∏ñ‡∏π‡∏Å‡∏õ‡∏¥‡∏î‡∏Å‡∏±‡πâ‡∏ô (Noindex)';


            // 3. Viewport
            const viewportPass = !!viewport;
            if (viewportPass) {
                techScore += 2;
            } else {
                isCritical = true;
            }
            const viewportIcon = viewportPass ? '‚úÖ' : 'üî¥';
            const viewportMsg = viewportPass ? '‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ 100%' : '‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠';


            // 4. Favicon
            const faviconPass = !!favicon;
            if (faviconPass) techScore += 1;
            const faviconIcon = faviconPass ? '‚úÖ' : 'üü†';
            const faviconMsg = faviconPass ? '‡∏î‡∏π‡∏ô‡πà‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠' : '‡∏Ç‡∏≤‡∏î‡πÇ‡∏•‡πÇ‡∏Å‡πâ';

            // FORCE INLINE STYLES (As Requested)
            let techGridHtml = `
            <div style="width: 100%; display: grid !important; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)) !important; gap: 10px !important; white-space: normal !important; font-family: sans-serif !important;">
                
                <div style="display: flex !important; flex-direction: row !important; align-items: center !important; padding: 12px; background: #f8f9fa; border-radius: 8px; border: 1px solid #eee;">
                    <div style="font-size: 24px; margin-right: 12px;">${canonicalIcon}</div>
                    <div style="display: flex; flex-direction: column;">
                        <div style="font-weight: bold; font-size: 14px; color: #333; text-transform: uppercase;">Canonical</div>
                        <div style="font-size: 12px; color: #666;">${canonicalMsg}</div>
                    </div>
                </div>

                <div style="display: flex !important; flex-direction: row !important; align-items: center !important; padding: 12px; background: #f8f9fa; border-radius: 8px; border: 1px solid #eee;">
                    <div style="font-size: 24px; margin-right: 12px;">${robotsIcon}</div>
                    <div style="display: flex; flex-direction: column;">
                        <div style="font-weight: bold; font-size: 14px; color: #333; text-transform: uppercase;">Robots Status</div>
                        <div style="font-size: 12px; color: #666;">${robotsMsg}</div>
                    </div>
                </div>

                <div style="display: flex !important; flex-direction: row !important; align-items: center !important; padding: 12px; background: #f8f9fa; border-radius: 8px; border: 1px solid #eee;">
                    <div style="font-size: 24px; margin-right: 12px;">${viewportIcon}</div>
                    <div style="display: flex; flex-direction: column;">
                        <div style="font-weight: bold; font-size: 14px; color: #333; text-transform: uppercase;">Mobile Viewport</div>
                        <div style="font-size: 12px; color: #666;">${viewportMsg}</div>
                    </div>
                </div>

                <div style="display: flex !important; flex-direction: row !important; align-items: center !important; padding: 12px; background: #f8f9fa; border-radius: 8px; border: 1px solid #eee;">
                    <div style="font-size: 24px; margin-right: 12px;">${faviconIcon}</div>
                    <div style="display: flex; flex-direction: column;">
                        <div style="font-weight: bold; font-size: 14px; color: #333; text-transform: uppercase;">Site Icon</div>
                        <div style="font-size: 12px; color: #666;">${faviconMsg}</div>
                    </div>
                </div>

            </div>`;

            let techAdvice = "‚úÖ ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
            let techAdviceClass = "";

            if (isCritical) {
                techAdvice = "üî¥ ‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡πâ‡∏≤‡∏¢‡πÅ‡∏£‡∏á‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ! ‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ó‡∏±‡∏ô‡∏ó‡∏µ";
                techAdviceClass = "advice-warning";
            } else if (techScore < 10) {
                techAdvice = "‚ö†Ô∏è ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å SEO";
                techAdviceClass = "advice-warning";
            }

            items.push({
                id: 'tech',
                title: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡πÄ‡∏ó‡∏Ñ‡∏ô‡∏¥‡∏Ñ (Technical & Indexing)",
                score: techScore,
                maxScore: 10,
                pass: techScore >= 8 && !isCritical,
                autoOpen: isCritical,
                dataLabel: "‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå (Health Check)",
                advice: techAdvice,
                adviceClass: techAdviceClass,
                dataContent: techGridHtml,
                hideCopy: true, // Hide Copy Button
                copyText: `Canonical: ${canonical}\nRobots: ${robots}\nViewport: ${viewport}`
            });

            // Calc Total
            const rawScore = items.reduce((acc, item) => acc + item.score, 0);
            const totalMax = items.reduce((acc, item) => acc + item.maxScore, 0);
            const finalScore = totalMax > 0 ? Math.round((rawScore / totalMax) * 100) : 0;

            return {
                score: finalScore,
                items: items
            };
        }

        function renderResults(results) {
            // Update Gauge
            const gaugeFill = document.getElementById('gaugeFill');
            const scoreValue = document.getElementById('scoreValue');
            const scoreText = document.getElementById('scoreText');

            const degrees = (results.score / 100) * 180 - 180;
            gaugeFill.style.transform = `rotate(${degrees}deg)`;

            let color = '#f87171'; let text = "‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á";
            if (results.score >= 50) { color = '#fbbf24'; text = "‡∏û‡∏≠‡πÉ‡∏ä‡πâ"; }
            if (results.score >= 80) { color = '#34d399'; text = "‡∏î‡∏µ‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°"; }

            gaugeFill.style.background = color;
            scoreValue.style.color = color;
            scoreText.innerText = text;
            scoreValue.innerText = results.score;

            // Render Accordion
            const list = document.getElementById('accordionList');
            list.innerHTML = '';

            results.items.forEach(item => {
                const el = document.createElement('div');
                el.className = `accordion-item ${item.autoOpen ? 'active' : ''}`; // Handle Auto-Open

                el.innerHTML = `
                    <div class="accordion-header" onclick="toggleAccordion(this)">
                        <div class="status-icon ${item.pass ? 'status-pass' : 'status-fail'}">
                            ${item.pass
                        ? '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>'
                        : '<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>'
                    }
                        </div>
                        <div class="acc-title">${item.title}</div>
                        <div class="acc-score">${item.score}/${item.maxScore}</div>
                        <svg class="chevron" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                    </div>
                    <div class="accordion-content">
                        <div class="advice-box ${item.adviceClass || ''}">
                            <strong>‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</strong> <br>
                            ${item.advice}
                        </div>

                        <button class="dev-view-toggle" onclick="event.stopPropagation(); toggleDevView(this)">
                            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>
                            ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤ (Developer View)
                        </button>
                        <div class="dev-view-content">
                            <div class="data-label">
                                <span>${item.dataLabel}</span>
                                ${item.hideCopy ? '' : `<button class="copy-btn" onclick="event.stopPropagation(); copyData('${item.id}', this)">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å</button>`}
                            </div>
                            <div class="raw-data-box" id="raw-${item.id}">${item.dataContent}</div>
                        </div>

                        <textarea style="display:none;" id="copy-${item.id}">${item.copyText}</textarea>
                    </div>
                `;
                list.appendChild(el);
            });
        }

        function toggleAccordion(header) {
            const item = header.parentElement;
            const isOpen = item.classList.contains('active');

            document.querySelectorAll('.accordion-item').forEach(i => i.classList.remove('active'));

            if (!isOpen) {
                item.classList.add('active');
            }
        }

        function copyData(id, btn) {
            const text = document.getElementById(`copy-${id}`).value;
            if (navigator.clipboard) {
                navigator.clipboard.writeText(text).then(() => {
                    showToast('‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!');
                    if (btn) {
                        const orig = btn.innerHTML;
                        btn.innerHTML = '‚úÖ ‡πÅ‡∏•‡πâ‡∏ß!';
                        setTimeout(() => btn.innerHTML = orig, 2000);
                    }
                });
            }
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.innerHTML = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2500);
        }

        function toggleDevView(btn) {
            const content = btn.nextElementSibling;
            const isOpen = content.classList.contains('open');
            content.classList.toggle('open');
            if (isOpen) {
                btn.innerHTML = `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg> ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤ (Developer View)`;
            } else {
                btn.innerHTML = `<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg> ‡∏ã‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å`;
            }
        }

        // Rotating status messages for skeleton loader
        const LOADING_MESSAGES = [
            '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå...',
            '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á AEO...',
            '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Schema Markup...',
            '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Meta Tags & Headings...',
            '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô...'
        ];
        let _loadingMsgInterval = null;

        function setLoading(isLoading) {
            const skeleton = document.getElementById('skeleton');
            const btn = document.getElementById('analyzeBtn');
            const btnIcon = document.getElementById('btnIcon');
            const btnText = document.getElementById('btnText');

            if (isLoading) {
                skeleton.classList.add('active');
                btn.disabled = true;
                btnIcon.classList.add('btn-spinner');
                btnText.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå...';

                // Rotate status messages
                let msgIdx = 0;
                const statusEl = document.getElementById('skeleton-status');
                statusEl.textContent = LOADING_MESSAGES[0];
                _loadingMsgInterval = setInterval(() => {
                    msgIdx = (msgIdx + 1) % LOADING_MESSAGES.length;
                    statusEl.style.opacity = '0';
                    setTimeout(() => {
                        statusEl.textContent = LOADING_MESSAGES[msgIdx];
                        statusEl.style.opacity = '1';
                    }, 200);
                }, 2000);
            } else {
                skeleton.classList.remove('active');
                btn.disabled = false;
                btnIcon.classList.remove('btn-spinner');
                btnText.textContent = '‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏•‡∏¢';
                if (_loadingMsgInterval) {
                    clearInterval(_loadingMsgInterval);
                    _loadingMsgInterval = null;
                }
            }
        }

        function showError(msg) {
            const el = document.getElementById('errorMsg');
            el.innerText = msg;
            el.style.display = 'block';
        }

        function hideError() {
            document.getElementById('errorMsg').style.display = 'none';
        }

        function toggleSchemaCode(btn) {
            const container = btn.nextElementSibling;
            container.classList.toggle('show');
            if (container.classList.contains('show')) {
                btn.innerText = '‡∏ã‡πà‡∏≠‡∏ô Code ‚ñ≤';
            } else {
                btn.innerText = '‡∏î‡∏π Code ‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏° ‚ñº';
            }
        }

        function copyPromptText(btn) {
            // Find the content div (sibling of header)
            const contentDiv = btn.parentElement.nextElementSibling;
            const textToCopy = contentDiv.innerText;

            // Robust Copy Logic
            if (navigator.clipboard) {
                navigator.clipboard.writeText(textToCopy).then(() => {
                    showCopyFeedback(btn);
                }).catch(err => {
                    console.error('Clipboard API failed', err);
                    fallbackCopyText(textToCopy, btn);
                });
            } else {
                fallbackCopyText(textToCopy, btn);
            }
        }

        function fallbackCopyText(text, btn) {
            const textArea = document.createElement("textarea");
            textArea.value = text;

            // Ensure invisible but part of DOM
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            textArea.style.opacity = "0";

            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();

            try {
                const successful = document.execCommand('copy');
                if (successful) showCopyFeedback(btn);
            } catch (err) {
                console.error('Fallback copy failed', err);
                showToast('‚ùå ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á');
            }

            document.body.removeChild(textArea);
        }

        function showCopyFeedback(btn) {
            const originalText = btn.innerText;
            btn.innerText = 'Copied! ‚úÖ';
            btn.classList.add('copied');

            setTimeout(() => {
                btn.innerText = originalText;
                btn.classList.remove('copied');
            }, 2000);
        }

        // copyToClipboard removed ‚Äî replaced by showToast-based copy flow

        // === AEO Deep Analysis Prompt Builder ===
        let _aeoPromptFull = '';

        function buildAeoPrompt(doc) {
            // Extract readable text from body
            const bodyEl = doc.body;
            if (!bodyEl) {
                document.getElementById('aeo-prompt-section').style.display = 'none';
                return;
            }

            // Remove scripts and styles from cloned body to get clean text
            const clone = bodyEl.cloneNode(true);
            clone.querySelectorAll('script, style, noscript, iframe').forEach(el => el.remove());
            let rawText = clone.innerText || clone.textContent || '';

            // Clean up: collapse whitespace, trim
            rawText = rawText.replace(/\n{3,}/g, '\n\n').replace(/[ \t]+/g, ' ').trim();

            // Truncate to ~4000 chars to keep prompt reasonable
            const maxChars = 4000;
            if (rawText.length > maxChars) {
                rawText = rawText.substring(0, maxChars) + '\n\n[...‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î‡∏ó‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°...]';
            }

            // Build the master prompt
            _aeoPromptFull = `## SYSTEM ROLE & EXPERTISE

‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠‡∏Ñ‡∏ì‡∏∞‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏π‡∏á‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô ‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏î‡πâ‡∏ß‡∏¢:
- üéØ Senior AEO Strategist ‚Äî ‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô Answer Engine Optimization ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà AI (ChatGPT, Gemini, Perplexity, Bing Copilot) ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡πÑ‡∏õ‡∏ï‡∏≠‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
- üìä SEO Content Analyst ‚Äî ‡∏ô‡∏±‡∏Å‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç E-E-A-T (Experience, Expertise, Authoritativeness, Trustworthiness) ‡πÅ‡∏•‡∏∞ Search Intent
- üèóÔ∏è Information Architect ‚Äî ‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ß‡πà‡∏≤ AI ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ structured content ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÄ‡∏û‡∏∑‡πà‡∏≠ extract ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥

## ANALYSIS RULES (‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå)

‚ö†Ô∏è ‡∏Å‡∏é‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏î:
1. **‡∏´‡πâ‡∏≤‡∏° Bias** ‚Äî ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡πÉ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏î‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á
2. **‡∏´‡πâ‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏ô‡∏ä‡∏°‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏£‡∏¥‡∏á** ‚Äî ‡∏ä‡∏µ‡πâ‡∏à‡∏∏‡∏î‡πÅ‡∏Ç‡πá‡∏á‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏µ‡πâ‡∏à‡∏∏‡∏î‡∏≠‡πà‡∏≠‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡∏£‡∏á‡πÑ‡∏õ‡∏ï‡∏£‡∏á‡∏°‡∏≤
3. **‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÑ‡∏î‡πâ** ‚Äî ‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏à‡∏£‡∏¥‡∏á ‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏ï‡∏¥‡∏°
4. **Actionable** ‚Äî ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏ï‡πâ‡∏≠‡∏á‡∏ô‡∏≥‡πÑ‡∏õ‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏•‡∏≠‡∏¢‡πÜ
5. **‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á AI** ‚Äî ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏≤‡∏Å‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ß‡πà‡∏≤ "‡∏ñ‡πâ‡∏≤ AI ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ AI ‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡∏ö‡πâ‡∏≤‡∏á" ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏°‡∏ô‡∏∏‡∏©‡∏¢‡πå

## TARGET DATA (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå)

\`\`\`
${rawText}
\`\`\`

## TASKS (‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå)

‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô ‡∏à‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á 3 ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:

### 1. üß† AI's Understanding (AI ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡∏ß‡πà‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£)
‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ñ‡∏≤‡∏° AI ‡∏ß‡πà‡∏≤ "‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£ ‡∏Ç‡∏≤‡∏¢‡∏≠‡∏∞‡πÑ‡∏£ ‡πÉ‡∏´‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏≠‡∏∞‡πÑ‡∏£?"
- ‡∏à‡∏á‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏µ‡πà AI ‡∏à‡∏∞‡∏ï‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 3 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î)
- ‡∏£‡∏∞‡∏ö‡∏∏ **‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à** ‡∏Ç‡∏≠‡∏á AI: ‡∏™‡∏π‡∏á / ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á / ‡∏ï‡πà‡∏≥ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏™‡∏±‡πâ‡∏ô‡πÜ
- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏û‡∏≠ ‡πÉ‡∏´‡πâ‡∏ö‡∏≠‡∏Å‡∏ï‡∏£‡∏á‡πÜ ‡∏ß‡πà‡∏≤ "AI ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞..."

### 2. üîç Missing Context (‡∏à‡∏∏‡∏î‡∏ö‡∏≠‡∏î‡∏ó‡∏µ‡πà AI ‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô)
‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ô‡∏°‡∏¥‡∏ï‡∏¥‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:
- **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏î‡∏´‡∏≤‡∏¢**: ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ (‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏≤‡∏Ñ‡∏≤, ‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà, ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠, ‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤)
- **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏•‡∏∏‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠**: ‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏Ñ‡∏ó‡∏µ‡πà AI ‡∏≠‡∏≤‡∏à‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö ‡∏´‡∏£‡∏∑‡∏≠ ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏©‡∏≤‡∏Å‡∏≥‡∏Å‡∏ß‡∏°
- **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ AI ‡∏ï‡∏≠‡∏ö‡∏ú‡∏¥‡∏î**: ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏Ç‡∏±‡∏î‡πÅ‡∏¢‡πâ‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ‡∏•‡πâ‡∏≤‡∏™‡∏°‡∏±‡∏¢
- ‡∏£‡∏∞‡∏ö‡∏∏‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏à‡∏∏‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏° **‡∏¢‡∏Å‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏£‡∏¥‡∏á** ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)

### 3. üí° AEO Opportunities (‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ï‡∏¥‡∏î Answer Engine)
‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÅ‡∏ö‡∏ö Direct Answer (FAQ) **3 ‡∏Ç‡πâ‡∏≠** ‡∏ó‡∏µ‡πà‡πÄ‡∏ß‡πá‡∏ö‡∏ô‡∏µ‡πâ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°:
- ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥‡∏ó‡∏µ‡πà‡∏Ñ‡∏ô‡∏à‡∏∞‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ñ‡∏≤‡∏° AI ‡∏à‡∏£‡∏¥‡∏á‡πÜ (Natural Language Query)
- ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ö **‡∏ò‡∏∏‡∏£‡∏Å‡∏¥‡∏à/‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£** ‡∏Ç‡∏≠‡∏á‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏ô‡∏µ‡πâ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏™‡∏±‡πâ‡∏ô‡πÜ** (40-60 ‡∏Ñ‡∏≥) ‡∏ó‡∏µ‡πà‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡πâ AI ‡∏î‡∏∂‡∏á‡πÑ‡∏õ Featured Snippet ‡πÑ‡∏î‡πâ
- ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏ï‡∏≤‡∏° **Search Volume ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î** ‡πÑ‡∏õ‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î

## OUTPUT FORMAT

‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢ ‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Markdown Headers ‡∏ï‡∏≤‡∏°‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ 1-3 ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô`;

            // Display in UI
            document.getElementById('aeo-prompt-text').textContent = _aeoPromptFull;
            document.getElementById('aeo-prompt-section').style.display = 'block';
        }

        function copyAeoPrompt(btn) {
            if (!_aeoPromptFull) return;

            if (navigator.clipboard) {
                navigator.clipboard.writeText(_aeoPromptFull).then(() => {
                    showAeoCopyFeedback(btn);
                }).catch(() => {
                    fallbackCopyText(_aeoPromptFull, btn);
                });
            } else {
                fallbackCopyText(_aeoPromptFull, btn);
            }
        }

        function showAeoCopyFeedback(btn) {
            const originalHTML = btn.innerHTML;
            btn.innerHTML = '‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß!';
            btn.classList.add('copied');

            setTimeout(() => {
                btn.innerHTML = originalHTML;
                btn.classList.remove('copied');
            }, 2500);
        }

        function openAeoInChatGPT() {
            if (!_aeoPromptFull) return;

            // Copy prompt first, then open ChatGPT
            if (navigator.clipboard) {
                navigator.clipboard.writeText(_aeoPromptFull).then(() => {
                    window.open('https://chatgpt.com/', '_blank');
                }).catch(() => {
                    window.open('https://chatgpt.com/', '_blank');
                });
            } else {
                window.open('https://chatgpt.com/', '_blank');
            }
        }
    </script>
</body>

</html>
